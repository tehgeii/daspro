//judul: TUGAS KELOMPOK penyakit.
//kamus
type DiagnosisResult
{
   penyakit[22] <-- string
   totalBiayaKonsultasi <-- double
}
DaftarPenyakit[22] <-- string 
{
   "Demam", "Tonsilofaringitis", "Bronkitis", "Hepatitis", "Infeksi Saluran Pencernaan",
    "Vertigo", "Influenza", "Demam Tifoid", "Pneumonia", "Kolitis", "Asam Lambung", "Gastritis",
    "Lemah Jantung", "Rhinovirus", "Peradangan Organ", "Darah Rendah", "Gejala Kecemasan", 
    "Asma", "Amandel", "Migren", "Malaria", "Maag"

}
DaftarPenyakit[22] <-- integer
{
    100000, 150000, 200000, 250000, 180000, 120000, 90000, 140000, 220000, 160000,
    110000, 130000, 300000, 80000, 170000, 70000, 90000, 200000, 100000, 150000, 
    180000, 90000

}
i,Hasil_Perhintungan, x <-- int
TampilanMenu()
DiagnosisPenyakit(input <-- string, result <-- DiagnosisResult)
TampilanHasilDiagnosis(result <-- DiagnosisResult)
 TotalPerhitunganBiaya(string input) <-- integer
//diskripsi
repeat <-- char
result <-- Hasil_Diagnosis

repeat
{
	displayMenu()
 
       choice<--int
       outputt  "\n=== SISTEM DIAGNOSA PENYAKIT ===" 
       outputt "1. Tampilkan Daftar Penyakit" 
       outputt   "2. Diagnosa Penyakit" 
       outputt  "3. Hitung Total Biaya (tanpa detail)"
       outputt  "4. Keluar"
       outputt   "Pilih menu: ";
       input repeat

switch (choice) //buat menentukan pilihan berdasarkan inputan user
        {
            case 1: 
                TampilanMenu()
            case 2: // jika pilihan dua makaa..
            {
                output "\nMasukkan kode penyakit (pisahkan dengan spasi, contoh: A B C): "
                 input<--string
                DiagnosisPenyakit(input, result)
                TampilanHasilDiagnosis(result)                
            }
            case 3:
            {
                output"\nMasukkan kode penyakit (pisahkan dengan spasi, contoh: A B C): ";
                 input<--string
                totalBiaya = TotalPerhitunganBiaya(input)<--double
                output "Total Biaya Konsultasi: Rp "  totalBiaya                
            }
            case 4:
                output "\nTerima kasih telah mengunjungi rumah sakit kami!" 
                default: 
                output "\nPilihan tidak valid. Coba lagi."
        }

        output "\nApakah Anda ingin kembali ke menu utama? (Y/N): "
        input<-- repeat
        
    } until (repeat == 'Y' || repeat == 'y')

    output "\nTerima kasih telah menggunakan program ini!" 
    
void TampilanMenu()
 {
    output"\n=== DAFTAR PENYAKIT DAN BIAYA ===" 
    i <-- 0
    until (i < 22) 
    {
        output char('A' + i) , " = ",DaftarPenyakit[i] 
        " (Rp " , biaya_penyakit[i]  ")" 
        i++;// i nya itu bertambah satu persatu
    }
    }
}

// Fungsi untuk mendiagnosis penyakit berdasarkan input
 DiagnosisPenyakit(string input, Hasil_Diagnosis &result) //prosedur si diagnoseDiseases(input, result), dipanggil sama baris 39
{
    // 65-67 sama kyk 56, dimulai dari 0
    result.totalBiayaKonsultasi <-- 0
    Hasil_Perhintungan <-- 0
    i <--0

    until (i < input.size()) //Selama i kurang dari ukuran input, maka
        {
        //variabel choice bertipe char(acter), mengambil karakter yang ada di posisi i dalam string input, terus disimpen di variabel choice
        char choice <-- input[i]
       //72-75 jika choicenya adalah spasi atau tab (tab itu yg /t), maka loop tetap lanjut ke choice berikutnya
        if (choice <--' ' or choice = '\t') {
            i++
        }
        //77-80 jika choicenya itu huruf, ubah ke kapital (toupper(choice)), terus hitung index penyakit (x) berdasarkan huruf tersebut ('A')
        if ((choice >= 'A' and choice <= 'Z') or (choice >= 'a' and choice <= 'z')) {
            choice <-- toupper(choice)//touper untuk mengubah huruf kecil ke huruf besar
            x <-- choice - 'A'
            //82-87 jika index penyakitnya benar (valid) diantara 0 hingga 21, maka simpan nama penyakit dan ditambahi biaya konsultasinya ke total biaya konsultasi

            if (x >= 0 and x < 22)
            {
                result.penyakit[Hasil_Perhintungan] <-- DaftarPenyakit[x]
                result.totalBiayaKonsultasi += biaya_penyakit[x]
                Hasil_Perhintungan++
            } //88-91 pilihan pada choice tidak valid (tidak benar)
            else
            {
                output "Pilihan ", choice, " tidak valid!"
            }
        } //93-97 input karakter pada choice tidak valid (tidak benar), diteruskan ke karakter selanjutnya di dalam inputnya
        else
        {
            output "Karakter input ", choice, " tidak valid!"
        }
        i++
    }
}

// Fungsi untuk menampilkan hasil diagnosa
TampilanHasilDiagnosis(Hasil_Diagnosis &result) {
    output "Hasil Diagnosa Anda:"

    i <-- 0
    while (i < Hasil_Perhintungan) {
        output "- Penyakit: ", result.penyakit[i]
        i++
    }

    output "Total Biaya Konsultasi: Rp ", result.totalBiayaKonsultasi 
}

// Fungsi untuk menghitung total biaya konsultasi
TotalPerhitunganBiaya(string input) <-- double{
    totalbiaya <-- 0 <-- integer
    i <-- 0

    until (i < input.size()) { //Selama i kurang dari ukuran input, maka
        //variabel choice bertipe char(acter), mengambil karakter yang ada di posisi i dalam string input, terus disimpen di variabel choice
        char choice <-- input[i]
//72-75 jika choicenya adalah spasi atau tab (tab itu yg /t), maka loop tetap lanjut ke choice berikutnya
        if (choice = ' '  choice = '\t') {
            i++
        }
//77-80 jika choicenya itu huruf, ubah ke kapital (toupper(choice)), terus hitung index penyakit (x) berdasarkan huruf tersebut ('A')
        if ((choice >= 'A' and choice <= 'Z') or (choice >= 'a' and choice <= 'z')) {
            choice <-- toupper(choice);//touper untuk mengubah huruf kecil ke huruf besar
            x <-- choice - 'A'
//82-87 jika index penyakitnya benar (valid) diantara 0 hingga 21, maka simpan nama penyakit dan ditambahi biaya konsultasinya ke total biaya konsultasi
            if (x >= 0 and x < 22) {
                totalbiaya += biaya_penyakit[x]
            } else
            {
                output "Pilihan ", choice, " tidak valid!"
            }
        } else {
            output "Karakter input ", choice, " tidak valid!"
        }
        i++
    }

    totalbiaya <-- return // Mengembalikan total biaya
}
